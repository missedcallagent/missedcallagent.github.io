<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shelf Shifter – All Pages (Warm UI with Drag, Drop &amp; Resize)</title>
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  
  <style>
    /* Warm Theme Variables (based on landing page) */
    :root {
      --primary: #FF7E5F;         /* Primary Accent */
      --primary-dark: #E0664D;     /* Darker shade of primary */
      --secondary: #333333;        /* Dark text */
      --accent: #FEB47B;           /* Secondary accent */
      --warning: #eab308;
      --danger: #ef4444;
      
      /* Warm background & card colors */
      --gray-50: #FFF8F0;          /* Warm white background */
      --gray-100: #F7ECE1;         /* Light warm gray (used in sidebar) */
      --gray-200: #e2e8f0;
      --gray-300: #cbd5e1;
      --gray-400: #94a3b8;
      --gray-800: #1e293b;
      
      /* Base background colors */
      --body-bg: var(--gray-50);
      --card-bg: white;
      --sidebar-bg: var(--gray-100);
    }
    
    /* Dark Mode Overrides – (optional) */
    body.dark-mode {
      --primary: #FF7E5F;
      --primary-dark: #E0664D;
      --secondary: #e0e0e0;
      --accent: #FEB47B;
      --warning: #eab308;
      --danger: #ef4444;
      --gray-50: #121212;
      --gray-100: #1e1e1e;
      --gray-200: #2c2c2c;
      --gray-300: #383838;
      --gray-400: #4f4f4f;
      --gray-800: #e0e0e0;
      
      --body-bg: #121212;
      --card-bg: #1e1e1e;
      --sidebar-bg: #1e1e1e;
    }
    
    /* Reset & Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      line-height: 1.5;
      color: var(--secondary);
      background-color: var(--body-bg);
    }
    
    /* ----------------------------- */
    /* SIDEBAR NAVIGATION */
    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 250px;
      background: var(--sidebar-bg);
      padding: 1rem;
      border-right: 1px solid var(--gray-200);
      z-index: 50;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    
    .sidebar-top {
      /* Contains logo and nav items */
    }
    
    .sidebar-logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 2rem;
    }
    
    .nav-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      color: var(--secondary);
      text-decoration: none;
      border-radius: 0.5rem;
      margin-bottom: 0.5rem;
      transition: background-color 0.2s;
      cursor: pointer;
    }
    
    .nav-item:hover,
    .nav-item.active {
      background: var(--gray-200);
      color: var(--primary);
    }
    
    /* AI Assistant Button in Sidebar */
    .ai-assistant-btn {
      margin-top: 1rem;
      padding: 0.75rem 1rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      font-weight: 600;
      text-align: center;
      transition: background-color 0.2s;
    }
    .ai-assistant-btn:hover {
      background: var(--primary-dark);
    }
    
    /* ----------------------------- */
    /* MAIN CONTENT */
    .main-content {
      margin-left: 250px;
      padding: 2rem;
    }
    
    /* Page Header (common) */
    .header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }
    .header h1 {
      margin-bottom: 0.25rem;
      color: var(--secondary);
    }
    .header p {
      color: var(--gray-400);
      font-size: 0.95rem;
    }
    
    /* ----------------------------- */
    /* DASHBOARD STYLES */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .stat-card {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      text-align: center;
    }
    
    .stat-card h3 {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--gray-400);
      margin-bottom: 0.5rem;
    }
    
    .stat-value {
      font-size: 1.75rem;
      font-weight: 600;
      color: var(--secondary);
    }
    
    .trend {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.9rem;
      margin-top: 0.5rem;
    }
    .trend.up { color: var(--accent); }
    .trend.down { color: var(--danger); }
    
    /* Dashboard Tasks Section */
    .dashboard-tasks {
      display: grid;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    
    .task-item {
      background: var(--card-bg);
      border-radius: 0.75rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      padding: 1rem 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      border-left: 6px solid var(--primary);
      position: relative;
    }
    
    .task-item.high { border-left-color: var(--danger); }
    .task-item.medium { border-left-color: var(--warning); }
    .task-item.low { border-left-color: var(--accent); }
    
    .task-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .task-header h3 {
      font-size: 1rem;
      font-weight: 600;
    }
    
    .task-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      font-size: 0.9rem;
      color: var(--gray-400);
    }
    
    .employee-assign {
      margin-top: 0.5rem;
    }
    .employee-assign select {
      padding: 0.35rem 0.5rem;
      border-radius: 0.25rem;
      border: 1px solid var(--gray-200);
      font-size: 0.9rem;
    }
    
    .task-actions {
      margin-left: auto;
      display: flex;
      gap: 0.5rem;
    }
    .task-actions button {
      background: transparent;
      color: var(--gray-400);
      border: none;
      font-size: 1rem;
      cursor: pointer;
    }
    .task-actions button:hover {
      color: var(--primary);
    }
    
    /* ----------------------------- */
    /* STORE LAYOUT STYLES */
    .store-layout-container, .store-layout {
      background: var(--gray-200);
      border-radius: 0.5rem;
      height: 600px;
      overflow: hidden;
      margin-bottom: 2rem;
      position: relative;
    }
    
    .layout-base {
      position: relative;
      z-index: 1;
      width: 100%;
      height: 100%;
    }
    
    .layout-zone {
      position: absolute;
      border: 2px solid var(--primary);
      background: rgba(255,126,95,0.1);
      border-radius: 0.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
      padding: 0.25rem;
    }
    
    .layout-zone:hover {
      background: rgba(255,126,95,0.2);
    }
    
    /* Style for when a zone is being dragged */
    .layout-zone.dragging {
      opacity: 0.7;
    }
    
    /* Resizer handle for resizing zones */
    .resizer {
      width: 10px;
      height: 10px;
      background: var(--primary);
      position: absolute;
      right: 0;
      bottom: 0;
      cursor: se-resize;
    }
    
    .edit-layout-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 0.9rem;
      margin-right: 0.5rem;
    }
    .edit-layout-btn:hover {
      background: var(--primary-dark);
    }
    
    /* Heatmap overlay */
    .heatmap-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      pointer-events: none;
    }
    
    /* Zone Detail Sidebar */
    #zone-detail-sidebar {
      position: fixed;
      right: 0;
      top: 0;
      bottom: 0;
      width: 300px;
      background: var(--card-bg);
      box-shadow: -2px 0 5px rgba(0,0,0,0.1);
      padding: 1rem;
      display: none;
      overflow-y: auto;
      z-index: 100;
    }
    
    /* ----------------------------- */
    /* TASKS PAGE STYLES */
    .tasks-filter-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    
    .tasks-filter-bar select {
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid var(--gray-200);
    }
    
    .tasks-filter-bar button {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
    }
    .tasks-filter-bar button:hover {
      background: var(--primary-dark);
    }
    
    .task-list {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    /* ----------------------------- */
    /* ANALYTICS STYLES */
    .charts-section {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .chart-card, .table-card {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    .chart-placeholder {
      width: 100%;
      height: 300px;
      background: var(--gray-200);
      border-radius: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--gray-400);
      font-size: 1rem;
      margin-top: 1rem;
      position: relative;
    }
    
    /* Fake Sales Trend Bar Chart using inline SVG */
    .sales-trend-chart {
      width: 100%;
      height: 300px;
    }
    
    .table-card table {
      width: 100%;
      border-collapse: collapse;
      display: block;
      overflow-x: auto;
    }
    
    .table-card th,
    .table-card td {
      padding: 0.75rem;
      border-bottom: 1px solid var(--gray-200);
      font-size: 0.9rem;
      text-align: left;
    }
    
    /* ----------------------------- */
    /* SETTINGS STYLES */
    .settings-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
    }
    
    .settings-card {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .settings-card h2 {
      font-size: 1.125rem;
      margin-bottom: 1rem;
      color: var(--secondary);
    }
    
    .settings-card label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 0.25rem;
      color: var(--secondary);
    }
    
    .settings-card input[type="text"],
    .settings-card input[type="email"],
    .settings-card input[type="password"],
    .settings-card select {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 1rem;
      border: 1px solid var(--gray-200);
      border-radius: 0.5rem;
      font-size: 0.9rem;
    }
    
    .settings-card button {
      padding: 0.5rem 1rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 0.9rem;
    }
    
    .settings-card button:hover {
      background: var(--primary-dark);
    }
    
    .settings-full { margin-top: 1.5rem; }
    
    /* Theme Settings (Dark Mode Toggle) */
    .theme-settings {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      margin-bottom: 1.5rem;
    }
    
    /* ----------------------------- */
    /* Hide all pages by default */
    .page {
      display: none;
    }
    
    /* ----------------------------- */
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .sidebar {
        width: 64px;
        padding: 1rem 0.5rem;
      }
      
      .sidebar-logo span,
      .nav-item span {
        display: none;
      }
      
      .main-content {
        margin-left: 64px;
      }
      
      .charts-section,
      .settings-grid {
        grid-template-columns: 1fr;
      }
      
      .table-card table {
        display: block;
        overflow-x: auto;
      }
    }
  </style>
</head>
<body>
  <!-- Sidebar Navigation -->
  <nav class="sidebar">
    <div class="sidebar-top">
      <div class="sidebar-logo">
        <i class="fas fa-layer-group"></i>
        <span>Shelf Shifter</span>
      </div>
      
      <!-- Navigation Order: Dashboard, Tasks, Store Layout, Analytics, Settings -->
      <div class="nav-item active" data-target="dashboard">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
      </div>
      <div class="nav-item" data-target="tasks">
        <i class="fas fa-tasks"></i>
        <span>Tasks</span>
      </div>
      <div class="nav-item" data-target="store-layout">
        <i class="fas fa-store"></i>
        <span>Store Layout</span>
      </div>
      <div class="nav-item" data-target="analytics">
        <i class="fas fa-chart-bar"></i>
        <span>Analytics</span>
      </div>
      <div class="nav-item" data-target="settings">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
      </div>
    </div>
    
    <!-- AI Assistant Button always visible at bottom -->
    <button class="ai-assistant-btn" id="ai-assistant-btn">
      <i class="fas fa-robot"></i> AI Assistant
    </button>
  </nav>
  
  <!-- Main Content Area -->
  <main class="main-content">
    <!-- Dashboard Page -->
    <section id="dashboard" class="page" style="display: block;">
      <div class="header">
        <div>
          <h1>Welcome back, Sara</h1>
          <p>Today at a Glance: Revenue, Best Sellers &amp; Tasks</p>
        </div>
        <button style="display: flex; align-items: center; gap: 0.5rem; background: var(--primary); color: white; border: none; border-radius: 0.5rem; padding: 0.5rem 1rem;">
          <i class="fas fa-bell"></i>
          <span>3 New Updates</span>
        </button>
      </div>
      
      <!-- Dashboard Tasks Section -->
      <div class="dashboard-tasks">
        <!-- Task 1 -->
        <div class="task-item high">
          <div class="task-header">
            <h3>Relocate Snacks &amp; Salsa Display</h3>
            <div class="task-actions">
              <button title="Mark Complete"><i class="fas fa-check"></i></button>
              <button title="Edit Task"><i class="fas fa-pen"></i></button>
              <button title="Delete Task"><i class="fas fa-trash"></i></button>
            </div>
          </div>
          <p style="font-size: 0.9rem; color: var(--secondary);">
            AI suggests moving salsa next to snacks for a potential 10% basket lift.
          </p>
          <div class="employee-assign">
            <label for="assign-dash-task-1" style="font-size: 0.8rem; color: var(--gray-400);">Assign Employee:</label>
            <select id="assign-dash-task-1">
              <option selected>Unassigned</option>
              <option>Sara</option>
              <option>John</option>
              <option>Emily</option>
              <option>Mark</option>
            </select>
          </div>
          <div class="task-meta">
            <span><i class="fas fa-exclamation-circle"></i> Priority: High</span>
            <span><i class="fas fa-calendar"></i> Due: Today</span>
          </div>
        </div>
        <!-- Task 2 -->
        <div class="task-item medium">
          <div class="task-header">
            <h3>Check Foot Traffic Sensor Calibration</h3>
            <div class="task-actions">
              <button title="Mark Complete"><i class="fas fa-check"></i></button>
              <button title="Edit Task"><i class="fas fa-pen"></i></button>
              <button title="Delete Task"><i class="fas fa-trash"></i></button>
            </div>
          </div>
          <p style="font-size: 0.9rem; color: var(--secondary);">
            Sensor #4 flagged for irregular data – verify calibration.
          </p>
          <div class="employee-assign">
            <label for="assign-dash-task-2" style="font-size: 0.8rem; color: var(--gray-400);">Assign Employee:</label>
            <select id="assign-dash-task-2">
              <option selected>Unassigned</option>
              <option>Sara</option>
              <option>John</option>
              <option>Emily</option>
              <option>Mark</option>
            </select>
          </div>
          <div class="task-meta">
            <span><i class="fas fa-exclamation-circle"></i> Priority: Medium</span>
            <span><i class="fas fa-calendar"></i> Due: 08/01/2025</span>
          </div>
        </div>
        <!-- Task 3 -->
        <div class="task-item low">
          <div class="task-header">
            <h3>Rotate Seasonal Displays</h3>
            <div class="task-actions">
              <button title="Mark Complete"><i class="fas fa-check"></i></button>
              <button title="Edit Task"><i class="fas fa-pen"></i></button>
              <button title="Delete Task"><i class="fas fa-trash"></i></button>
            </div>
          </div>
          <p style="font-size: 0.9rem; color: var(--secondary);">
            Update displays for summer—focus on beach accessories.
          </p>
          <div class="employee-assign">
            <label for="assign-dash-task-3" style="font-size: 0.8rem; color: var(--gray-400);">Assign Employee:</label>
            <select id="assign-dash-task-3">
              <option selected>Unassigned</option>
              <option>Sara</option>
              <option>John</option>
              <option>Emily</option>
              <option>Mark</option>
            </select>
          </div>
          <div class="task-meta">
            <span><i class="fas fa-exclamation-circle"></i> Priority: Low</span>
            <span><i class="fas fa-calendar"></i> Due: 08/05/2025</span>
          </div>
        </div>
      </div>
      
      <!-- Quick Analytics (Stats Grid) -->
      <div class="stats-grid">
        <div class="stat-card">
          <h3>Revenue Today</h3>
          <div class="stat-value">$4,892</div>
          <div class="trend up">
            <i class="fas fa-arrow-up"></i>
            12% vs last week
          </div>
        </div>
        <div class="stat-card">
          <h3>Customer Traffic</h3>
          <div class="stat-value">847</div>
          <div class="trend up">
            <i class="fas fa-arrow-up"></i>
            8% vs last week
          </div>
        </div>
        <div class="stat-card">
          <h3>Avg Transaction</h3>
          <div class="stat-value">$58.24</div>
          <div class="trend up">
            <i class="fas fa-arrow-up"></i>
            5% vs last week
          </div>
        </div>
        <div class="stat-card">
          <h3>Dead Zones</h3>
          <div class="stat-value">2</div>
          <div class="trend down">
            <i class="fas fa-arrow-down"></i>
            3 less than last week
          </div>
        </div>
      </div>
      
      <!-- Foot Traffic Heat Map (Demo using inline SVG) -->
      <div class="chart-placeholder" style="height:200px;">
        <svg viewBox="0 0 400 200" width="100%" height="100%">
          <defs>
            <linearGradient id="heatGradient">
              <stop offset="0%" stop-color="rgba(255,126,95,0.5)" />
              <stop offset="50%" stop-color="rgba(255,255,0,0.5)" />
              <stop offset="100%" stop-color="rgba(0,255,0,0.5)" />
            </linearGradient>
          </defs>
          <rect width="400" height="200" fill="url(#heatGradient)" />
        </svg>
      </div>
    </section>
    
    <!-- Tasks Page -->
    <section id="tasks" class="page">
      <div class="header">
        <div>
          <h1>Store Tasks &amp; Checklists</h1>
          <p>Manage open tasks manually or via AI suggestions</p>
        </div>
      </div>
      
      <div class="tasks-filter-bar">
        <select>
          <option>All Priorities</option>
          <option>High</option>
          <option>Medium</option>
          <option>Low</option>
        </select>
        <select>
          <option>All Statuses</option>
          <option>Open</option>
          <option>In Progress</option>
          <option>Completed</option>
        </select>
        <button>
          <i class="fas fa-plus"></i>
          Add Task
        </button>
      </div>
      
      <div class="task-list">
        <!-- Task 1 -->
        <div class="task-item high">
          <div class="task-header">
            <h3>Relocate Snacks &amp; Salsa Display</h3>
            <div class="task-actions">
              <button title="Mark Complete"><i class="fas fa-check"></i></button>
              <button title="Edit Task"><i class="fas fa-pen"></i></button>
              <button title="Delete Task"><i class="fas fa-trash"></i></button>
            </div>
          </div>
          <p style="font-size: 0.9rem; color: var(--secondary);">
            AI suggests moving salsa next to snacks for better cross-selling.
          </p>
          <div class="employee-assign">
            <label for="assign-task-1" style="font-size: 0.8rem; color: var(--gray-400);">Assign Employee:</label>
            <select id="assign-task-1">
              <option selected>Unassigned</option>
              <option>Sara</option>
              <option>John</option>
              <option>Emily</option>
              <option>Mark</option>
            </select>
          </div>
          <div class="task-meta">
            <span><i class="fas fa-exclamation-circle"></i> Priority: High</span>
            <span><i class="fas fa-calendar"></i> Due: Today</span>
          </div>
        </div>
        
        <!-- Task 2 -->
        <div class="task-item medium">
          <div class="task-header">
            <h3>Check Foot Traffic Sensor Calibration</h3>
            <div class="task-actions">
              <button title="Mark Complete"><i class="fas fa-check"></i></button>
              <button title="Edit Task"><i class="fas fa-pen"></i></button>
              <button title="Delete Task"><i class="fas fa-trash"></i></button>
            </div>
          </div>
          <p style="font-size: 0.9rem; color: var(--secondary);">
            Verify sensor #4 calibration due to irregular data.
          </p>
          <div class="employee-assign">
            <label for="assign-task-2" style="font-size: 0.8rem; color: var(--gray-400);">Assign Employee:</label>
            <select id="assign-task-2">
              <option selected>Unassigned</option>
              <option>Sara</option>
              <option>John</option>
              <option>Emily</option>
              <option>Mark</option>
            </select>
          </div>
          <div class="task-meta">
            <span><i class="fas fa-exclamation-circle"></i> Priority: Medium</span>
            <span><i class="fas fa-calendar"></i> Due: 08/01/2025</span>
          </div>
        </div>
        
        <!-- Task 3 -->
        <div class="task-item low">
          <div class="task-header">
            <h3>Rotate Seasonal Displays</h3>
            <div class="task-actions">
              <button title="Mark Complete"><i class="fas fa-check"></i></button>
              <button title="Edit Task"><i class="fas fa-pen"></i></button>
              <button title="Delete Task"><i class="fas fa-trash"></i></button>
            </div>
          </div>
          <p style="font-size: 0.9rem; color: var(--secondary);">
            Update seasonal layouts for summer.
          </p>
          <div class="employee-assign">
            <label for="assign-task-3" style="font-size: 0.8rem; color: var(--gray-400);">Assign Employee:</label>
            <select id="assign-task-3">
              <option selected>Unassigned</option>
              <option>Sara</option>
              <option>John</option>
              <option>Emily</option>
              <option>Mark</option>
            </select>
          </div>
          <div class="task-meta">
            <span><i class="fas fa-exclamation-circle"></i> Priority: Low</span>
            <span><i class="fas fa-calendar"></i> Due: 08/05/2025</span>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Store Layout Page with Drag, Drop &amp; Resize -->
    <section id="store-layout" class="page">
      <div class="header">
        <div>
          <h1>Store Layout</h1>
          <p>Manage and optimize your digital floor plan</p>
        </div>
        <div style="display: flex; gap: 1rem; align-items: center;">
          <button class="edit-layout-btn"><i class="fas fa-edit"></i> Edit Layout</button>
          <button class="edit-layout-btn" id="add-zone-btn"><i class="fas fa-plus"></i> Add Zone</button>
          <button class="edit-layout-btn" id="ai-recommend-btn"><i class="fas fa-robot"></i> AI Recommendations</button>
          <button class="edit-layout-btn" id="toggle-heatmap-btn"><i class="fas fa-fire"></i> Toggle Heatmap</button>
        </div>
      </div>
      <div class="store-layout">
        <!-- Base store layout zones container -->
        <div class="layout-base" id="layout-base">
          <div class="layout-zone" data-zone="Electronics" style="top: 10%; left: 10%; width: 20%; height: 30%;">Electronics</div>
          <div class="layout-zone" data-zone="Apparel" style="top: 10%; left: 35%; width: 25%; height: 30%;">Apparel</div>
          <div class="layout-zone" data-zone="Home Goods" style="top: 45%; left: 10%; width: 30%; height: 25%;">Home Goods</div>
          <div class="layout-zone" data-zone="Accessories" style="top: 45%; left: 45%; width: 20%; height: 25%;">Accessories</div>
          <div class="layout-zone" data-zone="Checkout Area" style="top: 75%; left: 10%; width: 55%; height: 15%;">Checkout Area</div>
        </div>
        <!-- Heatmap overlay, hidden by default -->
        <div class="heatmap-overlay" id="heatmap-overlay" style="display:none;">
          <canvas id="heatmap-canvas" width="800" height="600" style="width: 100%; height: 100%;"></canvas>
        </div>
      </div>
      
      <!-- Zone Performance Grid -->
      <div style="margin-top: 2rem;">
        <h2>Section Performance</h2>
        <div class="stats-grid" id="zone-performance-grid">
          <!-- Dynamic zone performance cards will be inserted here -->
        </div>
      </div>
      
      <!-- Zone Detail Sidebar -->
      <div id="zone-detail-sidebar">
        <h2 id="zone-name">Zone Details</h2>
        <p id="zone-description">Description will appear here.</p>
        <div id="zone-metrics">
          <p><strong>Foot Traffic:</strong> <span id="zone-foot-traffic">N/A</span></p>
          <p><strong>Conversion Rate:</strong> <span id="zone-conversion">N/A</span></p>
          <p><strong>Sales:</strong> <span id="zone-sales">N/A</span></p>
        </div>
        <div style="margin-top: 1rem; display: flex; gap: 1rem;">
          <button id="delete-zone-btn" style="background: var(--danger); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;">Delete Zone</button>
          <button id="close-zone-detail" style="background: var(--primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;">Close</button>
        </div>
      </div>
    </section>
    
    <!-- Analytics Page -->
    <section id="analytics" class="page">
      <div class="header">
        <div>
          <h1>Analytics Overview</h1>
          <p>Deep insights into sales, traffic, and product performance</p>
        </div>
        <select style="padding: 0.5rem; border-radius: 0.5rem; border: 1px solid var(--gray-200);">
          <option>Last 7 Days</option>
          <option>Last 30 Days</option>
          <option>Last 90 Days</option>
        </select>
      </div>
      
      <div class="stats-grid">
        <div class="stat-card">
          <h3>Sales</h3>
          <div class="stat-value">$19,780</div>
          <div class="trend up">
            <i class="fas fa-arrow-up"></i>
            15% vs. previous period
          </div>
        </div>
        <div class="stat-card">
          <h3>Foot Traffic</h3>
          <div class="stat-value">3,492</div>
          <div class="trend up">
            <i class="fas fa-arrow-up"></i>
            9% vs. previous period
          </div>
        </div>
        <div class="stat-card">
          <h3>Conversion Rate</h3>
          <div class="stat-value">27%</div>
          <div class="trend down">
            <i class="fas fa-arrow-down"></i>
            2% vs. previous period
          </div>
        </div>
        <div class="stat-card">
          <h3>Avg. Basket Size</h3>
          <div class="stat-value">$62.10</div>
          <div class="trend up">
            <i class="fas fa-arrow-up"></i>
            4% vs. previous period
          </div>
        </div>
      </div>
      
      <div class="charts-section">
        <!-- Sales Trend Chart with Demo Data (inline SVG) -->
        <div class="chart-card">
          <h2>Sales Trend</h2>
          <p style="color: var(--gray-400); font-size: 0.9rem;">
            Demo Data: Jan ($1000), Feb ($1200), Mar ($900), Apr ($1500), May ($1300)
          </p>
          <div class="chart-placeholder">
            <svg class="sales-trend-chart" viewBox="0 0 500 300">
              <rect x="40" y="150" width="40" height="150" fill="var(--primary)"></rect>
              <rect x="120" y="130" width="40" height="170" fill="var(--primary)"></rect>
              <rect x="200" y="180" width="40" height="120" fill="var(--primary)"></rect>
              <rect x="280" y="100" width="40" height="200" fill="var(--primary)"></rect>
              <rect x="360" y="140" width="40" height="160" fill="var(--primary)"></rect>
            </svg>
          </div>
        </div>
        <!-- Category Breakdown Donut Chart using inline SVG -->
        <div class="chart-card">
          <h2>Category Breakdown</h2>
          <p style="color: var(--gray-400); font-size: 0.9rem;">
            Demo Data: Electronics 40%, Apparel 25%, Home Goods 20%, Accessories 15%
          </p>
          <div class="chart-placeholder" style="display: flex; align-items: center; justify-content: center;">
            <svg viewBox="0 0 42 42" width="200" height="200">
              <!-- Electronics (40%) -->
              <circle
                cx="21"
                cy="21"
                r="15.9155"
                fill="transparent"
                stroke="var(--danger)"
                stroke-width="10"
                stroke-dasharray="40 60"
              ></circle>
              <!-- Apparel (25%) -->
              <circle
                cx="21"
                cy="21"
                r="15.9155"
                fill="transparent"
                stroke="var(--warning)"
                stroke-width="10"
                stroke-dasharray="25 75"
                stroke-dashoffset="-40"
              ></circle>
              <!-- Home Goods (20%) -->
              <circle
                cx="21"
                cy="21"
                r="15.9155"
                fill="transparent"
                stroke="#3b82f6"
                stroke-width="10"
                stroke-dasharray="20 80"
                stroke-dashoffset="-65"
              ></circle>
              <!-- Accessories (15%) -->
              <circle
                cx="21"
                cy="21"
                r="15.9155"
                fill="transparent"
                stroke="var(--primary)"
                stroke-width="10"
                stroke-dasharray="15 85"
                stroke-dashoffset="-85"
              ></circle>
            </svg>
          </div>
        </div>
      </div>
      
      <div class="table-card">
        <h2>Top Performing Products</h2>
        <p style="color: var(--gray-400); font-size: 0.9rem;">Ranked by revenue</p>
        <div style="overflow-x: auto;">
          <table>
            <thead>
              <tr>
                <th>Product</th>
                <th>Category</th>
                <th>Units Sold</th>
                <th>Total Sales</th>
                <th>Trend</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Wireless Headphones</td>
                <td>Electronics</td>
                <td>120</td>
                <td>$4,800</td>
                <td style="color: var(--accent);"><i class="fas fa-arrow-up"></i> +10%</td>
              </tr>
              <tr>
                <td>Graphic T-Shirt</td>
                <td>Apparel</td>
                <td>85</td>
                <td>$2,550</td>
                <td style="color: var(--accent);"><i class="fas fa-arrow-up"></i> +5%</td>
              </tr>
              <tr>
                <td>Kitchen Mixer</td>
                <td>Home Goods</td>
                <td>45</td>
                <td>$1,800</td>
                <td style="color: var(--danger);"><i class="fas fa-arrow-down"></i> -3%</td>
              </tr>
              <tr>
                <td>Leather Wallet</td>
                <td>Accessories</td>
                <td>42</td>
                <td>$1,260</td>
                <td style="color: var(--accent);"><i class="fas fa-arrow-up"></i> +7%</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
    
    <!-- Settings Page -->
    <section id="settings" class="page">
      <div class="header">
        <div>
          <h1>Settings</h1>
          <p>Update your profile, manage integrations and billing</p>
        </div>
      </div>
      
      <!-- Theme Settings Card -->
      <div class="theme-settings settings-card">
        <h2>Theme Settings</h2>
        <label for="theme-mode">Select Theme</label>
        <select id="theme-mode">
          <option value="light" selected>Light</option>
          <option value="dark">Dark</option>
        </select>
        <button id="update-theme">Apply Theme</button>
      </div>
      
      <div class="settings-grid">
        <!-- Account Settings -->
        <div class="settings-card">
          <h2>Account Settings</h2>
          <label for="account-name">Name</label>
          <input type="text" id="account-name" placeholder="Your Name" value="Sara">
          <label for="account-email">Email</label>
          <input type="email" id="account-email" placeholder="you@example.com" value="sara@example.com">
          <label for="account-password">Password</label>
          <input type="password" id="account-password" placeholder="••••••••">
          <button>Update Account</button>
        </div>
        
        <!-- Integrations Settings -->
        <div class="settings-card">
          <h2>Integrations</h2>
          <label for="pos-integration">POS System</label>
          <select id="pos-integration">
            <option selected>Clover</option>
            <option>Square</option>
            <option>Lightspeed</option>
          </select>
          <label for="iot-integration">Foot Traffic Sensors</label>
          <select id="iot-integration">
            <option selected>Dor</option>
            <option>RetailNext</option>
            <option>Other</option>
          </select>
          <label for="inventory-sync">Inventory Sync</label>
          <select id="inventory-sync">
            <option selected>Enabled</option>
            <option>Disabled</option>
          </select>
          <button>Save Integrations</button>
        </div>
        
        <!-- Notification Settings -->
        <div class="settings-card settings-full">
          <h2>Notification Preferences</h2>
          <label for="notif-email">Email Notifications</label>
          <select id="notif-email">
            <option selected>Enabled</option>
            <option>Disabled</option>
          </select>
          <label for="notif-sms">SMS Notifications</label>
          <select id="notif-sms">
            <option>Enabled</option>
            <option selected>Disabled</option>
          </select>
          <label for="notif-daily">Daily Summary</label>
          <select id="notif-daily">
            <option>Enabled</option>
            <option selected>Disabled</option>
          </select>
          <button>Update Notifications</button>
        </div>
        
        <!-- Store Preferences -->
        <div class="settings-card settings-full">
          <h2>Store Preferences</h2>
          <label for="layout-mode">Default Layout Mode</label>
          <select id="layout-mode">
            <option selected>AI-Optimized</option>
            <option>Manual</option>
          </select>
          <label for="report-frequency">Reporting Frequency</label>
          <select id="report-frequency">
            <option selected>Daily</option>
            <option>Weekly</option>
            <option>Monthly</option>
          </select>
          <label for="currency">Currency</label>
          <select id="currency">
            <option selected>USD</option>
            <option>EUR</option>
            <option>GBP</option>
          </select>
          <button>Save Preferences</button>
        </div>
      </div>
    </section>
  </main>
  
  <!-- JavaScript to switch between pages, update theme, store layout interactions, drag &amp; drop, resize, and AI Assistant -->
  <script>
    // Global zone data for dummy performance metrics and details
    const zoneData = {
      'Electronics': { description: 'High-tech gadgets and devices.', footTraffic: '1200', conversion: '5%', sales: '$8,000' },
      'Apparel': { description: 'Clothing and accessories.', footTraffic: '900', conversion: '7%', sales: '$6,500' },
      'Home Goods': { description: 'Furniture and decor.', footTraffic: '600', conversion: '4%', sales: '$4,200' },
      'Accessories': { description: 'Supplementary items and add-ons.', footTraffic: '400', conversion: '3%', sales: '$2,100' },
      'Checkout Area': { description: 'Impulse buys and last-minute offers.', footTraffic: '1500', conversion: '8%', sales: '$10,000' }
    };
    
    // Global variable to track currently selected zone element
    let currentZoneElement = null;
    
    // Navigation: switch pages when nav items are clicked
    const navItems = document.querySelectorAll('.nav-item');
    const pages = document.querySelectorAll('.page');
    
    navItems.forEach(item => {
      item.addEventListener('click', () => {
        // Remove active class from all nav items
        navItems.forEach(nav => nav.classList.remove('active'));
        item.classList.add('active');
        
        // Hide all pages
        pages.forEach(page => page.style.display = 'none');
        
        // Show the targeted page (data-target holds the ID)
        const targetId = item.getAttribute('data-target');
        document.getElementById(targetId).style.display = 'block';
      });
    });
    
    // Theme Settings: update dark mode when the theme button is clicked
    const updateThemeBtn = document.getElementById('update-theme');
    updateThemeBtn.addEventListener('click', () => {
      const themeSelect = document.getElementById('theme-mode');
      if (themeSelect.value === 'dark') {
        document.body.classList.add('dark-mode');
      } else {
        document.body.classList.remove('dark-mode');
      }
    });
    
    // -----------------------------
    // DRAG & DROP FUNCTIONALITY FOR STORE LAYOUT ZONES
    function makeDraggable(element) {
      let offsetX, offsetY, isDragging = false;
      const container = document.getElementById('layout-base');

      element.addEventListener('mousedown', (e) => {
        e.stopPropagation(); // Prevent conflict with click events
        isDragging = true;
        const containerRect = container.getBoundingClientRect();
        const elemRect = element.getBoundingClientRect();
        offsetX = e.clientX - elemRect.left;
        offsetY = e.clientY - elemRect.top;
        element.classList.add('dragging');
      });

      document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        const containerRect = container.getBoundingClientRect();
        let newLeft = e.clientX - containerRect.left - offsetX;
        let newTop = e.clientY - containerRect.top - offsetY;
        
        // Constrain within container boundaries
        const elemRect = element.getBoundingClientRect();
        const maxLeft = containerRect.width - elemRect.width;
        const maxTop = containerRect.height - elemRect.height;
        newLeft = Math.max(0, Math.min(newLeft, maxLeft));
        newTop = Math.max(0, Math.min(newTop, maxTop));

        // Convert to percentages
        const leftPercent = (newLeft / containerRect.width) * 100;
        const topPercent = (newTop / containerRect.height) * 100;
        element.style.left = leftPercent + '%';
        element.style.top = topPercent + '%';
      });

      document.addEventListener('mouseup', () => {
        if (isDragging) {
          isDragging = false;
          element.classList.remove('dragging');
        }
      });
    }
    
    // -----------------------------
    // RESIZING FUNCTIONALITY FOR STORE LAYOUT ZONES
    function makeResizable(element) {
      // Create a resizer handle element
      let resizer = document.createElement('div');
      resizer.className = 'resizer';
      element.appendChild(resizer);
      
      let originalWidth = 0, originalHeight = 0, originalMouseX = 0, originalMouseY = 0;
      
      resizer.addEventListener('mousedown', function(e) {
        e.stopPropagation();
        e.preventDefault();
        originalWidth = parseFloat(window.getComputedStyle(element, null).getPropertyValue('width').replace('px',''));
        originalHeight = parseFloat(window.getComputedStyle(element, null).getPropertyValue('height').replace('px',''));
        originalMouseX = e.clientX;
        originalMouseY = e.clientY;
        document.addEventListener('mousemove', resize);
        document.addEventListener('mouseup', stopResize);
      });
      
      function resize(e) {
        let width = originalWidth + (e.clientX - originalMouseX);
        let height = originalHeight + (e.clientY - originalMouseY);
        // Set minimum sizes
        width = Math.max(width, 50);
        height = Math.max(height, 30);
        // Convert pixel values to percentages relative to container
        const container = document.getElementById('layout-base');
        const containerRect = container.getBoundingClientRect();
        let widthPercent = (width / containerRect.width) * 100;
        let heightPercent = (height / containerRect.height) * 100;
        element.style.width = widthPercent + '%';
        element.style.height = heightPercent + '%';
      }
      
      function stopResize() {
        document.removeEventListener('mousemove', resize);
        document.removeEventListener('mouseup', stopResize);
      }
    }
    
    // Attach draggable and resizable functionality to each layout zone.
    function enableZoneInteractions() {
      const zones = document.querySelectorAll('.layout-zone');
      zones.forEach(zone => {
        if (!zone.dataset.draggableAttached) {
          makeDraggable(zone);
          zone.dataset.draggableAttached = true;
        }
        if (!zone.dataset.resizableAttached) {
          makeResizable(zone);
          zone.dataset.resizableAttached = true;
        }
      });
    }
    
    // Initialize drag & resize on page load
    enableZoneInteractions();
    
    // -----------------------------
    // STORE LAYOUT INTERACTIONS
    
    // Zone click handler to show details in the sidebar
    function zoneClickHandler(event) {
      event.stopPropagation();
      currentZoneElement = event.currentTarget;
      const zoneName = currentZoneElement.getAttribute('data-zone');
      const data = zoneData[zoneName] || { description: 'No data available.', footTraffic: 'N/A', conversion: 'N/A', sales: 'N/A' };
      
      document.getElementById('zone-name').textContent = zoneName;
      document.getElementById('zone-description').textContent = data.description;
      document.getElementById('zone-foot-traffic').textContent = data.footTraffic;
      document.getElementById('zone-conversion').textContent = data.conversion;
      document.getElementById('zone-sales').textContent = data.sales;
      
      document.getElementById('zone-detail-sidebar').style.display = 'block';
    }
    
    // Attach click handler to existing zones
    document.querySelectorAll('.layout-zone').forEach(zone => {
      zone.addEventListener('click', zoneClickHandler);
    });
    
    // Delete Zone functionality from the zone detail sidebar
    const deleteZoneBtn = document.getElementById('delete-zone-btn');
    deleteZoneBtn.addEventListener('click', () => {
      if (currentZoneElement) {
        currentZoneElement.parentNode.removeChild(currentZoneElement);
        document.getElementById('zone-detail-sidebar').style.display = 'none';
        updateZonePerformanceGrid();
      }
    });
    
    // Close Zone Detail Sidebar
    const closeZoneDetailBtn = document.getElementById('close-zone-detail');
    closeZoneDetailBtn.addEventListener('click', () => {
      document.getElementById('zone-detail-sidebar').style.display = 'none';
    });
    
    // AI Recommendations functionality for store layout zones
    const aiRecommendBtn = document.getElementById('ai-recommend-btn');
    aiRecommendBtn.addEventListener('click', () => {
      alert('AI Recommendations Applied: Zones have been optimized based on sales and foot traffic data.');
      document.querySelectorAll('.layout-zone').forEach(zone => {
        zone.style.borderColor = 'var(--primary-dark)';
      });
    });
    
    // Function to update the Zone Performance Grid below the layout
    function updateZonePerformanceGrid() {
      const grid = document.getElementById('zone-performance-grid');
      let html = '';
      const zones = document.querySelectorAll('.layout-zone');
      zones.forEach(zone => {
        const zoneName = zone.getAttribute('data-zone');
        const data = zoneData[zoneName] || { footTraffic: 'N/A', conversion: 'N/A', sales: 'N/A' };
        html += `
          <div class="stat-card">
            <h3>${zoneName}</h3>
            <div>Foot Traffic: ${data.footTraffic}</div>
            <div>Conversion: ${data.conversion}</div>
            <div>Sales: ${data.sales}</div>
          </div>
        `;
      });
      grid.innerHTML = html;
    }
    
    // -----------------------------
    // "Add Zone" Button functionality
    const addZoneBtn = document.getElementById('add-zone-btn');
    addZoneBtn.addEventListener('click', () => {
      const zoneName = prompt("Enter new zone name:");
      if (zoneName) {
        const layoutBase = document.getElementById('layout-base');
        const newZone = document.createElement('div');
        newZone.className = 'layout-zone';
        newZone.setAttribute('data-zone', zoneName);
        newZone.style.top = '50%';
        newZone.style.left = '50%';
        newZone.style.width = '20%';
        newZone.style.height = '20%';
        newZone.textContent = zoneName;
        layoutBase.appendChild(newZone);
        newZone.addEventListener('click', zoneClickHandler);
        makeDraggable(newZone);
        newZone.dataset.draggableAttached = true;
        makeResizable(newZone);
        newZone.dataset.resizableAttached = true;
        updateZonePerformanceGrid();
      }
    });
    
    // -----------------------------
    // AI Assistant Button functionality
    const aiAssistantBtn = document.getElementById('ai-assistant-btn');
    aiAssistantBtn.addEventListener('click', () => {
      alert("Hello! I'm your AI Assistant. How can I help you with your store optimization today?");
    });
  </script>
</body>
</html>
